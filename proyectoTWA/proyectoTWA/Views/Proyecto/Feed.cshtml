@using Microsoft.AspNetCore.Http
@model IEnumerable<proyectoTWA.Models.Proyecto>
@{
    ViewData["Title"] = "Mis proyectos/Feed";
}

<div class="row">

    @*Si hay un usuario logueado*@
    @if (Context.Session.GetString("UserID") != null)
    {
        <div class="col-md-6">
        <h2>Mis proyectos</h2>
        @if (ViewBag.Message != null)
        {
            <div class="form-control">
                <div class="col-md-10">@ViewBag.Message</div>
            </div>
        }
        @if (Model.Any())
        {
            <table class="table">
                <tr>
                    <th>Nombre</th>
                    <th>Fecha de inicio</th>
                    <th>Fecha de término</th>
                </tr>
                @foreach (var proyecto in Model)
                {
                    <tr>
                        <td>@proyecto.NombreProyecto</td>
                        <td>@proyecto.FechaInicio</td>
                        <td>@proyecto.FechaTermino</td>

                    </tr>

                }
                
            </table>
			@Html.ActionLink("Crear nuevo proyecto", "NuevoProyecto")
		}
		else
		{

            <p>No existen proyectos</p>
        }
    </div>
    }
    else
    {
        <div class="col-md-6"></div>
    }

    <div class="col-md-6">
        <h2>Feed</h2>
        @if (ViewBag.Message != null)
        {
            <div class="form-control">
                <div class="col-md-10">@ViewBag.Message</div>
            </div>
        }
        @if (Model.Any())
        {
            <table class="table">
                <tr>
                    <th>Nombre</th>
                    <th>Fecha de inicio</th>
                    <th>Fecha de término</th>
                </tr>
                @foreach (var proyecto in Model)
                {
                    <tr>
                        <td>@proyecto.NombreProyecto</td>
                        <td>@proyecto.FechaInicio</td>
                        <td>@proyecto.FechaTermino</td>
                        @*<td>@Html.ActionLink("Modificar", "Proyecto", new { nombre = proyecto.NombreProyecto })</td>*@
                    </tr>

                }
            </table>

        }
        else
        {
            <p>No existen proyectos</p>
        }
    </div>
</div>

<div class="row">
    <div class="col-md-3">
        <h2>Application uses</h2>
        <ul>
            <li>Sample pages using ASP.NET Core MVC</li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkId=518004">Bower</a> for managing client-side libraries</li>
            <li>Theming using <a href="https://go.microsoft.com/fwlink/?LinkID=398939">Bootstrap</a></li>
        </ul>
    </div>
    <div class="col-md-3">
        <h2>How to</h2>
        <ul>
            <li><a href="https://go.microsoft.com/fwlink/?LinkID=398600">Add a Controller and View</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkId=699315">Manage User Secrets using Secret Manager.</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkId=699316">Use logging to log a message.</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkId=699317">Add packages using NuGet.</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkId=699318">Add client packages using Bower.</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkId=699319">Target development, staging or production environment.</a></li>
        </ul>
    </div>
    <div class="col-md-3">
        <h2>Overview</h2>
        <ul>
            <li><a href="https://go.microsoft.com/fwlink/?LinkId=518008">Conceptual overview of what is ASP.NET Core</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkId=699320">Fundamentals of ASP.NET Core such as Startup and middleware.</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkId=398602">Working with Data</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkId=398603">Security</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkID=699321">Client side development</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkID=699322">Develop on different platforms</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkID=699323">Read more on the documentation site</a></li>
        </ul>
    </div>
    <div class="col-md-3">
        <h2>Run & Deploy</h2>
        <ul>
            <li><a href="https://go.microsoft.com/fwlink/?LinkID=517851">Run your app</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkID=517853">Run tools such as EF migrations and more</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkID=398609">Publish to Microsoft Azure Web Apps</a></li>
        </ul>
    </div>
</div>
